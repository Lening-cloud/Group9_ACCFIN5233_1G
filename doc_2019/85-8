
LONDON â Queen Elizabeth II welcomed President Trump to Buckingham Palace on Monday with an honor guard and royal artillery salute, while Mr. Trump carried on an ugly dispute with the mayor of London, whom he called a âstone cold loserâ and said was doing a terrible job of running Britainâs capital city.
The juxtaposition of high pageantry and low name-calling, on 
It also showcased the deep ambivalence Mr. Trumpâs visit has elicited. The British public mostly rejects Mr. Trump and his policies, but the governing elite recognizes the need to reinforce the alliance with the United States as it negotiates 
Members of Britainâs royalty did their part, treating Mr. Trump and the first lady, Melania Trump, to lunch and a lavish state banquet at Buckingham Palace. Mr. and Mrs. Trump had afternoon tea with the Prince of Wales and his wife, Camilla, Duchess of Cornwall, at their residence, Clarence House. The Trumps also placed a wreath at Westminster Abbey, where Englandâs queens and kings are crowned, married and laid to rest.
But the stately narrative carried a more rough-edged subtext. Even before Air Force One touched down outside London, Mr. Trump was on Twitter, accusing the mayor of London, Sadiq Khan, with whom he has feuded since 2016 over immigration, terrorism and other issues, of being ânastyâ to him, while misspelling the mayorâs name and mocking his stature.
âKahn reminds me very much of our dumb and incompetent Mayor of NYC, de Blasio, who has also done a terrible job â only half his height,â Mr. Trump said in a message posted on Twitter, as he invoked another pet target, Mayor Bill de Blasio of New York. Mr. Khan, he said, should pay attention to Londonâs crime rate.
The dispute played out all day, with Conservative politicians stepping forward to defend Mr. Trump and criticize Mr. Khan. It was a jarring counterpoint to the gauzy images of the president meeting the royal family, but it played to Mr. Trumpâs desire, even when visiting one of Americaâs closest allies, to have an adversary.
Mr. Khan, a Muslim of Pakistani extraction, had earlier described Mr. Trump as âjust one of the most egregious examples of a growing global threatâ and likened the presidentâs language to that used by âfascists of the 20th century.â In particular, he has singled out Mr. Trumpâs effort to ban travelers from Muslim countries.
In a video the day before Mr. Trumpâs arrival, posted by Elle UK, Mr. Khan expanded his attack to gender issues, saying the president was promoting policies that would relegate women to second-class status and force them to have back-alley abortions.
âYour values and what you stand for,â he said, âare the complete opposite of Londonâs values and the values in the country.â
transcript
âThere are so many things about President Donald Trumpâs policies that are the antithesis of our values in London, plus our values as a country. There are other close allies coming in for the commemorations. Theyâre not getting a state visit, a state banquet â costing millions of pounds. And my point is this, some of the things Donald Trump has done over the last two, three years, Londoners find abhorrent and offensive.â âNo, I donât think much of him. I think that heâs the twin of de Blasio, except shorter.â
Mr. Trump had earlier castigated the mayor for his handling of a 2017 terrorist attack on the London bridge that killed 11 people. He repeated his criticism of Mr. Khan to Britainâs foreign secretary, Jeremy Hunt, as he greeted him on the tarmac. Mr. Hunt, for his part, lashed out at Mr. Khan and other Labour Party leaders for boycotting Mr. Trumpâs visit and leading protests against him.
Mr. Trump did not limit himself to the mayor. Soon after entering the residence of the American ambassador, Robert Wood Johnson IV, the president expressed his unhappiness with CNNâs coverage of his arrival over Twitter.
âAfter watching it for a short while, I turned it off,â the president wrote. âAll negative & so much Fake News, very bad for U.S.â
Mr. Trumpâs spirits appeared to have lifted by noon, when he arrived at Buckingham Palace, a three-mile journey he made by helicopter. In May 2011, President Barack Obama made the same trip by motorcade, driving past cheering crowds. By using a helicopter, Mr. Trump avoided any possibility of encountering protesters, though the main demonstrations are expected on Tuesday.
At the palace, Mr. Trump inspected an honor guard with Prince Charles, while the queen watched, alongside Mrs. Trump and the Duchess of Cornwall, the wife of Charles.
Following a private lunch, Queen Elizabeth showed Mr. Trump a collection of gifts that appeared carefully curated to reflect his interests. They included a map of New York from 1775, a natural history of the Carolinas, Florida and the Bahama Islands, and a table devoted to the Scottish links, with golf-related pictures, letters and a bolt of tartan-patterned Harris tweed. Mr. Trump owns a golf club in Scotland.
Then he was off to lay the wreath and tour Westminster Abbey. The president stopped at a slab of marble honoring Lord Byron, and inquired about the stones used to make the flooring.
At the banquet, where Mr. Trumpâs children were seated between princes and captains of industry, Mr. Trump and the queen exchanged toasts before a pair of gilded thrones.
In his toast, Mr. Trump spoke of the shared legacy of the D-Day invasion 75 years ago, which both leaders will commemorate this week. He hailed a young female mechanic who repaired military truck engines during World War II, and who was to become âthe future queen â a great, great woman.â
In her toast, the queen pointedly took note of the multilateral institutions that Britain and the United States helped to create after World War II to prevent another war â institutions, like NATO, that Mr. Trump has denigrated. âWhile the world has changed,â she said, âwe are forever mindful of the original purpose of these structures.â
Mr. Trumpâs clash with Mr. Khan intruded on what was supposed to be the less political of the presidentâs two full days in London. On Tuesday, the president is scheduled to visit Prime Minister Theresa May at 10 Downing Street, three days before she relinquishes leadership of her party amid a deepening paralysis over Brexit.
Mr. Trump has been vocal about his desire to see Britain make a clean break from the European Union. In an interview with The Sunday Times of London, published before he had left Washington, the president said Britain should âwalk awayâ from Brexit negotiations to extract better terms. He also suggested naming 
And there were brief reminders of another contretemps that Mr. Trump set off just before leaving the United States.
During the exhibit of gifts, cameras caught Prince Harry making a brief appearance at the back of the room, but quickly ducking out again.
The princeâs wife, the Duchess of Sussex, formerly known as Meghan Markle, an American actress, was deeply critical of Mr. Trump in November 2016 just before he was elected. She does not plan to meet Mr. Trump on this trip, British officials said, because she is on maternity leave.
When Mr. Trump was told of those remarks last week by an interviewer for the British tabloid The Sun, he said he didnât know âshe was nasty.â He then denied the remark, which was on an audio recording.